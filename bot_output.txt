2025-11-10 07:41:53,101 - INFO - ============================================================
2025-11-10 07:41:53,101 - INFO - [MES] Symbol: Micro E-mini S&P 500 (MES)
2025-11-10 07:41:53,101 - INFO - [MES]   Tick Value: $1.25 | Tick Size: $0.25
2025-11-10 07:41:53,101 - INFO - [MES]   Slippage: 2.0 ticks | Volatility: 1.0x
2025-11-10 07:41:53,101 - INFO - [MES]   Trading Hours: 18:00:00 - 16:55:00 ET
2025-11-10 07:41:53,101 - INFO - [MES] Mode: LIVE TRADING
2025-11-10 07:41:53,101 - INFO - [MES] Instruments: MES, MNQ
2025-11-10 07:41:53,101 - INFO - [MES] Entry Window: 18:00:00 - 16:55:00 ET
2025-11-10 07:41:53,101 - INFO - [MES] Flatten Mode: 16:45:00 ET
2025-11-10 07:41:53,101 - INFO - [MES] Force Close: 17:00:00 ET
2025-11-10 07:41:53,101 - INFO - [MES] Shutdown: 18:00:00 ET
2025-11-10 07:41:53,101 - INFO - [MES] Max Contracts: 1
2025-11-10 07:41:53,101 - INFO - [MES] Max Trades/Day: 10
2025-11-10 07:41:53,101 - INFO - [MES] Risk Per Trade: 1.2%
2025-11-10 07:41:53,101 - INFO - [MES] Daily Loss Limit: $1000.0
2025-11-10 07:41:53,101 - INFO - ============================================================
2025-11-10 07:41:53,101 - INFO - ============================================================
2025-11-10 07:41:53,101 - INFO - TIMEZONE CONFIGURATION VALIDATION
2025-11-10 07:41:53,101 - INFO - ============================================================
2025-11-10 07:41:53,101 - INFO - Configured Timezone: America/New_York
2025-11-10 07:41:53,101 - INFO - Current Time (ET): 2025-11-10 07:41:53 EST
2025-11-10 07:41:53,101 - INFO - UTC Offset: -0500
2025-11-10 07:41:53,101 - INFO - DST Active: False
2025-11-10 07:41:53,101 - INFO - ============================================================
2025-11-10 07:41:53,101 - INFO - [MES] Initializing bid/ask manager...
2025-11-10 07:41:53,101 - INFO - Bid/Ask Manager initialized
2025-11-10 07:41:53,101 - INFO -   Passive order timeout: 10s
2025-11-10 07:41:53,101 - INFO -   Abnormal spread multiplier: 2.0x
2025-11-10 07:41:53,101 - INFO -   Mixed order strategy: False
2025-11-10 07:41:53,101 - INFO -   Max queue size: 100
2025-11-10 07:41:53,101 - INFO -   Min bid/ask size: 1
2025-11-10 07:41:53,101 - INFO -   Market condition classification: Enabled
2025-11-10 07:41:53,101 - INFO -   Fill probability estimation: Enabled
2025-11-10 07:41:53,102 - INFO -   Spread-aware position sizing: Enabled
2025-11-10 07:41:53,924 - INFO - [MES] Market open or opening soon - connecting to broker...
2025-11-10 07:41:53,925 - INFO - \u2705 Admin mode detected - skipping license check
2025-11-10 07:41:53,925 - INFO - Initializing broker interface...
2025-11-10 07:41:53,925 - INFO - Retry manager initialized (max_retries=3, initial_delay=1.0s, backoff_factor=2.0)
2025-11-10 07:41:53,925 - INFO - State persistence initialized (file=data/bot_state_50KTC-V2-398684-33989413.json)
2025-11-10 07:41:53,925 - INFO - Circuit breaker 'order_placement' initialized (threshold=5, timeout=60s)
2025-11-10 07:41:53,925 - INFO - Circuit breaker 'market_data' initialized (threshold=10, timeout=30s)
2025-11-10 07:41:53,925 - INFO - Circuit breaker 'account_query' initialized (threshold=5, timeout=60s)
2025-11-10 07:41:53,925 - INFO - Error recovery manager initialized
2025-11-10 07:41:53,925 - INFO - ================================================================================
2025-11-10 07:41:53,925 - INFO - \U0001f50c CONNECTING TO TOPSTEP...
2025-11-10 07:41:53,925 - INFO - ================================================================================
2025-11-10 07:41:53,926 - INFO - Connecting to TopStep SDK (Project-X)...
2025-11-10 07:41:53,926 - INFO - Authenticating with TopStep...
2025-11-10 07:41:55,069 - INFO - HTTP Request: POST https://api.topstepx.com/api/Auth/loginKey "HTTP/2 200 OK"
2025-11-10 07:41:55,103 - INFO - HTTP Request: POST https://api.topstepx.com/api/Account/search "HTTP/2 200 OK"
2025-11-10 07:41:55,106 - INFO - Connected to TopStep - Account: 13897180
2025-11-10 07:41:55,106 - INFO - Initializing WebSocket for real-time market data...
2025-11-10 07:41:55,106 - INFO - Connecting to TopStep WebSocket: wss://rtc.topstepx.com/hubs/market
2025-11-10 07:41:55,106 - INFO - Session token length: 725
2025-11-10 07:41:55,106 - INFO - Building SignalR connection...
2025-11-10 07:41:55,108 - INFO - Registering GatewayQuote handler...
2025-11-10 07:41:55,108 - INFO - Registering GatewayTrade handler...
2025-11-10 07:41:55,108 - INFO - Registering GatewayDepth handler...
2025-11-10 07:41:55,108 - INFO - All handlers registered successfully
2025-11-10 07:41:55,108 - INFO - Starting SignalR connection...
2025-11-10 07:41:55,629 - INFO - SignalR connection.start() completed
2025-11-10 07:41:56,213 - INFO - [CONNECTED] WebSocket connection opened
2025-11-10 07:41:57,632 - INFO - [SUCCESS] Connected to TopStep WebSocket (SignalR Market Hub)
2025-11-10 07:41:57,632 - INFO - WebSocket is ready to receive market data
2025-11-10 07:41:57,632 - INFO - \u2705 WebSocket connected - ready for real-time quotes
2025-11-10 07:41:57,632 - INFO - ================================================================================
2025-11-10 07:41:57,632 - INFO - \u2705 TOPSTEP CONNECTION SUCCESSFUL
2025-11-10 07:41:57,632 - INFO - ================================================================================
2025-11-10 07:41:57,632 - INFO - Broker connected successfully
2025-11-10 07:41:57,632 - INFO - \U0001f4b0 Account Balance: $50,000.00
2025-11-10 07:41:57,632 - INFO - ================================================================================
2025-11-10 07:41:57,633 - INFO - [MES] Starting Equity: $50000.00
2025-11-10 07:41:57,635 - INFO - Maintenance countdown: 9h 18m
2025-11-10 07:41:57,635 - INFO - State initialized for MES
2025-11-10 07:41:57,635 - INFO - [MES] Checking for saved position state...
2025-11-10 07:41:57,638 - INFO - Saved state is for different symbol: None
2025-11-10 07:41:57,638 - INFO - [MES] No active position to restore - starting fresh
2025-11-10 07:41:57,642 - INFO - State initialized for MNQ
2025-11-10 07:41:57,642 - INFO - [MNQ] Checking for saved position state...
2025-11-10 07:41:57,643 - INFO - Saved state is for different symbol: None
2025-11-10 07:41:57,643 - INFO - [MNQ] No active position to restore - starting fresh
2025-11-10 07:41:57,645 - INFO - [MES] Skipping historical bars fetch - will build bars from live data
2025-11-10 07:41:57,645 - INFO - [MES] Initializing event loop...
2025-11-10 07:41:57,645 - INFO - Event loop initialized
2025-11-10 07:41:57,645 - INFO - Timer manager initialized
2025-11-10 07:41:57,647 - CRITICAL - \u2705 Timer manager _run() method started - beginning event posting loop
2025-11-10 07:41:57,647 - CRITICAL - \u2705 Timer manager thread STARTED - will post TIME_CHECK events every second
2025-11-10 07:41:57,647 - CRITICAL - \u2705 Timer posted TIME_CHECK event #3
2025-11-10 07:41:57,647 - CRITICAL - \u2705 Timer config: vwap_reset=18:00:00, warning_time=None, shutdown_time=18:00:00
2025-11-10 07:41:57,648 - INFO - Subscribing to market data: MES
2025-11-10 07:41:57,648 - INFO - [CONTRACT] MES -> CON.F.US.MES.Z25
2025-11-10 07:41:57,648 - INFO - Subscribing to WebSocket trades for MES (contract: CON.F.US.MES.Z25)...
2025-11-10 07:41:57,650 - INFO - [SUCCESS] Subscribed to trades for contract CON.F.US.MES.Z25
2025-11-10 07:41:57,652 - INFO - \u2705 Subscribed to WebSocket trades for MES using contract CON.F.US.MES.Z25
2025-11-10 07:41:57,652 - INFO - Subscribed to market data for MES
2025-11-10 07:41:57,652 - INFO - ================================================================================
2025-11-10 07:41:57,652 - INFO - [MES] Subscribing to bid/ask quotes...
2025-11-10 07:41:57,652 - INFO - Broker type: <class 'broker_interface.TopStepBroker'>
2025-11-10 07:41:57,652 - INFO - Has subscribe_quotes: True
2025-11-10 07:41:57,653 - INFO - ================================================================================
2025-11-10 07:41:57,653 - INFO - [CONTRACT] MES -> CON.F.US.MES.Z25
2025-11-10 07:41:57,653 - INFO - Subscribing to WebSocket quotes for MES (contract: CON.F.US.MES.Z25)...
2025-11-10 07:41:57,655 - INFO - [SUCCESS] Subscribed to quotes for contract CON.F.US.MES.Z25
2025-11-10 07:41:57,655 - INFO - \u2705 Subscribed to WebSocket quotes for MES using contract CON.F.US.MES.Z25
2025-11-10 07:41:57,656 - INFO - [MES] \u2705 Successfully called broker.subscribe_quotes()
2025-11-10 07:41:57,656 - INFO - Subscribing to market data: MNQ
2025-11-10 07:41:57,656 - INFO - [CONTRACT] MNQ -> CON.F.US.MNQ.Z25
2025-11-10 07:41:57,658 - INFO - Subscribing to WebSocket trades for MNQ (contract: CON.F.US.MNQ.Z25)...
2025-11-10 07:41:57,659 - INFO - [SUCCESS] Subscribed to trades for contract CON.F.US.MNQ.Z25
2025-11-10 07:41:57,659 - INFO - \u2705 Subscribed to WebSocket trades for MNQ using contract CON.F.US.MNQ.Z25
2025-11-10 07:41:57,660 - INFO - Subscribed to market data for MNQ
2025-11-10 07:41:57,660 - INFO - ================================================================================
2025-11-10 07:41:57,660 - INFO - [MNQ] Subscribing to bid/ask quotes...
2025-11-10 07:41:57,660 - INFO - Broker type: <class 'broker_interface.TopStepBroker'>
2025-11-10 07:41:57,660 - INFO - Has subscribe_quotes: True
2025-11-10 07:41:57,660 - INFO - ================================================================================
2025-11-10 07:41:57,660 - INFO - [CONTRACT] MNQ -> CON.F.US.MNQ.Z25
2025-11-10 07:41:57,661 - INFO - Subscribing to WebSocket quotes for MNQ (contract: CON.F.US.MNQ.Z25)...
2025-11-10 07:41:57,661 - INFO - [SUCCESS] Subscribed to quotes for contract CON.F.US.MNQ.Z25
2025-11-10 07:41:57,661 - INFO - \u2705 Subscribed to WebSocket quotes for MNQ using contract CON.F.US.MNQ.Z25
2025-11-10 07:41:57,661 - INFO - [MNQ] \u2705 Successfully called broker.subscribe_quotes()
2025-11-10 07:41:57,663 - INFO - Cloud RL Mode: All learning goes to shared hive mind
2025-11-10 07:41:57,663 - INFO - No local RL files - everything saved to cloud for collective intelligence
2025-11-10 07:41:57,663 - INFO - Bot initialization complete
2025-11-10 07:41:57,663 - INFO - Starting event loop...
2025-11-10 07:41:57,663 - INFO - Press Ctrl+C for graceful shutdown
2025-11-10 07:41:57,663 - INFO - ============================================================
2025-11-10 07:41:57,663 - CRITICAL - ================================================================================
2025-11-10 07:41:57,663 - CRITICAL - STARTING EVENT LOOP - Bot should now run continuously
2025-11-10 07:41:57,663 - CRITICAL - ================================================================================
2025-11-10 07:41:57,663 - INFO - ============================================================
2025-11-10 07:41:57,665 - INFO - EVENT LOOP STARTED
2025-11-10 07:41:57,665 - INFO - ============================================================
2025-11-10 07:41:57,665 - CRITICAL - \u2705 Event loop is now RUNNING - entering main loop
2025-11-10 07:41:57,665 - CRITICAL - \u2705 Registered handlers: 7 event types
2025-11-10 07:41:57,665 - CRITICAL - \u2705 Queue depth: 3
2025-11-10 07:41:57,665 - CRITICAL - \u2705 Bot status - trading_enabled: True
2025-11-10 07:41:57,678 - INFO - [QUOTE DEBUG] Quote #1 data type: <class 'list'>
2025-11-10 07:41:57,680 - INFO - [QUOTE DEBUG] Quote data: ['CON.F.US.MES.Z25', {'symbol': 'F.US.MES', 'symbolName': '/MES', 'lastPrice': 6812.5, 'bestBid': 6812.5, 'bestAsk': 6812.75, 'change': 58.75, 'changePercent': 0.0087, 'open': 6786.25, 'high': 6822.75, 'low': 6772.0, 'volume': 225940, 'lastUpdated': '2025-11-10T12:41:58.5244392+00:00', 'timestamp': '2025-11-07T22:52:45.26+00:00'}]
2025-11-10 07:41:57,682 - ERROR - Error getting position quantity: 'NoneType' object has no attribute 'send'
2025-11-10 07:41:57,682 - INFO - [RECONCILIATION] Position sync OK: 0 contracts
2025-11-10 07:41:57,682 - INFO - [QUOTE DEBUG] Quote #2 data type: <class 'list'>
2025-11-10 07:41:57,682 - INFO - [QUOTE DEBUG] Quote data: ['CON.F.US.MES.Z25', {'symbol': 'F.US.MES', 'bestAsk': 6812.75, 'lastUpdated': '2025-11-10T12:41:58.5658938+00:00', 'timestamp': '2025-11-10T12:41:58.5+00:00'}]
2025-11-10 07:41:57,690 - INFO - [QUOTE DEBUG] Quote #3 data type: <class 'list'>
2025-11-10 07:41:57,691 - INFO - [QUOTE DEBUG] Quote data: ['CON.F.US.MNQ.Z25', {'symbol': 'F.US.MNQ', 'symbolName': '/MNQ', 'lastPrice': 25518.5, 'bestBid': 25518.5, 'bestAsk': 25518.75, 'change': 352.25, 'changePercent': 0.014, 'open': 25319.75, 'high': 25569.5, 'low': 25268.75, 'volume': 418594, 'lastUpdated': '2025-11-10T12:41:58.5642629+00:00', 'timestamp': '2025-11-07T22:52:45.264+00:00'}]
2025-11-10 07:41:58,340 - WARNING - Slow event processing: CONNECTION_HEALTH took 656.04ms
2025-11-10 07:41:58,342 - INFO - Trading day initialized: 2025-11-10
2025-11-10 07:42:00,630 - INFO - [BAR_DEBUG] Minute changed: 07:41:00 -> 07:42:00
2025-11-10 07:42:00,630 - INFO - [BAR CLOSED] Bar #1 | Time: 07:41 | Price: $0.00 | Vol: 14
2025-11-10 07:42:00,632 - INFO - Not enough bars for signal: 1/2
2025-11-10 07:42:00,632 - INFO - [SIGNAL CHECK] Validation failed: Insufficient bars at 2025-11-10 07:41:00-05:00
2025-11-10 07:42:00,791 - INFO - [BAR_DEBUG] Minute changed: 07:41:00 -> 07:42:00
2025-11-10 07:42:00,791 - INFO - [BAR CLOSED] Bar #1 | Time: 07:41 | Price: $6812.50 | Vol: 8
2025-11-10 07:42:00,791 - INFO - Not enough bars for signal: 1/2
2025-11-10 07:42:00,791 - INFO - [SIGNAL CHECK] Validation failed: Insufficient bars at 2025-11-10 07:41:00-05:00
